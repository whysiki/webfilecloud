## 代办😅

- [ ] 解耦存储，可选择存储到本地，或者基于对象存储。采用minio.
- [ ] 优化文件存储，支持超大文件上传和分片上传
- [ ] 优化数据库实体和实体关系，重写数据库模型
- [x] 重写存储冗余，重写上传逻辑。已经解决一部分。V


## 存储冗余的解决


- 上传一个文件，文件在文件表上的id是文件内容摘要+用户名+文件节点 file_id
- 文件在存储的时候，文件名是文件内容摘要+文件类型拓展名 file_path
- file_path 可能对应多个file_id，但是file_id只对应一个file_path
- 上传文件的时候，实际存储id可能不同但是实际存储的文件内容是一样的，不会重复存储
- 删除文件的时候，当且仅当file_id对应的file_path没有其他file_id对应的时候，才会删除文件